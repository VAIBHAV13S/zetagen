services:
  - type: web
    name: zetagen-backend
    env: node
    plan: free
    rootDir: backend
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: FRONTEND_URL
        value: https://zetagen-universal-app-v2.vercel.app
      - key: MONGODB_URI
        fromDatabase:
          name: zetagen-mongodb
          property: connectionString
      - key: GEMINI_API_KEY
        sync: false
      - key: ZETACHAIN_RPC_URL
        value: https://zetachain-athens-evm.blockpi.network/v1/rpc/public
      - key: ZETACHAIN_PRIVATE_KEY
        sync: false
      - key: ZETAGEN_UNIVERSAL_CONTRACT_ADDRESS
        value: 0xd306C9a30359EB053F23C92F754206d2fe0Ed93e
      - key: ZETAGEN_LEGACY_CONTRACT_ADDRESS
        value: 0xDE1bE2A2bc97D2B42cDB61812d90214bB2778326
      - key: UNIVERSAL_MODE_ENABLED
        value: true
      - key: CROSS_CHAIN_ENABLED
        value: true
      - key: RATE_LIMIT_WINDOW_MS
        value: 900000
      - key: RATE_LIMIT_MAX_REQUESTS
        value: 100

databases:
  - name: zetaforge-mongodb
    databaseName: zetaforge
    user: zetaforge_user
